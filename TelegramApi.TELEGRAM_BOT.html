<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="TelegramApi.BOT.html">
<link rel="Up" href="TelegramApi.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Telegram" rel="Chapter" href="Telegram.html">
<link title="TelegramApi" rel="Chapter" href="TelegramApi.html"><title>TelegramApi.TELEGRAM_BOT</title>
</head>
<body>
<div class="navbar"><a class="pre" href="TelegramApi.BOT.html" title="TelegramApi.BOT">Previous</a>
&nbsp;<a class="up" href="TelegramApi.html" title="TelegramApi">Up</a>
&nbsp;</div>
<h1>Module type <a href="type_TelegramApi.TELEGRAM_BOT.html">TelegramApi.TELEGRAM_BOT</a></h1>

<pre><span class="keyword">module type</span> TELEGRAM_BOT = <code class="code">sig</code> <a href="TelegramApi.TELEGRAM_BOT.html">..</a> <code class="code">end</code></pre><div class="info modtype top">
TELEGRAM_BOT represents the interface to a running bot<br>
</div>
<hr width="100%">

<pre><span id="VALurl"><span class="keyword">val</span> url</span> : <code class="type">string</code></pre><div class="info ">
The base url for all connections to the API<br>
</div>

<pre><span id="VALcommands"><span class="keyword">val</span> commands</span> : <code class="type"><a href="TelegramApi.Command.html#TYPEcommand">TelegramApi.Command.command</a> list</code></pre><div class="info ">
A list of all commands supported by the bot<br>
</div>

<pre><span id="VALinline"><span class="keyword">val</span> inline</span> : <code class="type"><a href="TelegramApi.InlineQuery.html#TYPEinline_query">TelegramApi.InlineQuery.inline_query</a> -> <a href="TelegramApi.Command.html#TYPEaction">TelegramApi.Command.action</a></code></pre><div class="info ">
The inline query handler for the bot<br>
</div>

<pre><span id="VALget_me"><span class="keyword">val</span> get_me</span> : <code class="type"><a href="TelegramApi.User.html#TYPEuser">TelegramApi.User.user</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the user information for the bot; use to test connection to the Telegram server<br>
</div>

<pre><span id="VALsend_message"><span class="keyword">val</span> send_message</span> : <code class="type">chat_id:int -><br>       text:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a text message to a specified chat<br>
</div>

<pre><span id="VALforward_message"><span class="keyword">val</span> forward_message</span> : <code class="type">chat_id:int -><br>       from_chat_id:int -><br>       ?disable_notification:bool -><br>       message_id:int -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Forwards any message from one chat to another (can be same chat)<br>
</div>

<pre><span id="VALsend_chat_action"><span class="keyword">val</span> send_chat_action</span> : <code class="type">chat_id:int -><br>       action:<a href="TelegramApi.ChatAction.html#TYPEaction">TelegramApi.ChatAction.action</a> -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an action report to the chat, to show that a command will take some time<br>
</div>

<pre><span id="VALsend_photo"><span class="keyword">val</span> send_photo</span> : <code class="type">chat_id:int -><br>       photo:string -><br>       ?caption:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new image file (jpeg/png) to a specified chat. Note that <code class="code">photo</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_photo"><span class="keyword">val</span> resend_photo</span> : <code class="type">chat_id:int -><br>       photo:string -><br>       ?caption:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing image file (jpeg/png) to a specified chat. Note that <code class="code">photo</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_audio"><span class="keyword">val</span> send_audio</span> : <code class="type">chat_id:int -><br>       audio:string -><br>       performer:string -><br>       title:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new audio file (mp3) to a specified chat. Note that <code class="code">audio</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_audio"><span class="keyword">val</span> resend_audio</span> : <code class="type">chat_id:int -><br>       audio:string -><br>       performer:string -><br>       title:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing audio file (mp3) to a specified chat. Note that <code class="code">audio</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_document"><span class="keyword">val</span> send_document</span> : <code class="type">chat_id:int -><br>       document:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new document file to a specified chat. Note that <code class="code">document</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_document"><span class="keyword">val</span> resend_document</span> : <code class="type">chat_id:int -><br>       document:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing document file to a specified chat. Note that <code class="code">document</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_sticker"><span class="keyword">val</span> send_sticker</span> : <code class="type">chat_id:int -><br>       sticker:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new sticker file (webp) to a specified chat. Note that <code class="code">sticker</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_sticker"><span class="keyword">val</span> resend_sticker</span> : <code class="type">chat_id:int -><br>       sticker:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing sticker file (webp) to a specified chat. Note that <code class="code">sticker</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_video"><span class="keyword">val</span> send_video</span> : <code class="type">chat_id:int -><br>       video:string -><br>       ?duration:int option -><br>       ?caption:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new video file (mp4/mov/webm) to a specified chat. Note that <code class="code">video</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_video"><span class="keyword">val</span> resend_video</span> : <code class="type">chat_id:int -><br>       video:string -><br>       ?duration:int option -><br>       ?caption:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing video (mp4/mov/webm) file to a specified chat. Note that <code class="code">video</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_voice"><span class="keyword">val</span> send_voice</span> : <code class="type">chat_id:int -><br>       voice:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       string <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a new voice message (ogg) to a specified chat. Note that <code class="code">voice</code> refers to the file's name to send.<br>
</div>

<pre><span id="VALresend_voice"><span class="keyword">val</span> resend_voice</span> : <code class="type">chat_id:int -><br>       voice:string -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send an existing voice message (ogg) to a specified chat. Note that <code class="code">voice</code> refers to the file's id on the Telegram servers.<br>
</div>

<pre><span id="VALsend_location"><span class="keyword">val</span> send_location</span> : <code class="type">chat_id:int -><br>       latitude:float -><br>       longitude:float -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a location to a specified chat<br>
</div>

<pre><span id="VALsend_venue"><span class="keyword">val</span> send_venue</span> : <code class="type">chat_id:int -><br>       latitude:float -><br>       longitude:float -><br>       title:string -><br>       address:string -><br>       foursquare_id:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a venue to a specified chat<br>
</div>

<pre><span id="VALsend_contact"><span class="keyword">val</span> send_contact</span> : <code class="type">chat_id:int -><br>       phone_number:string -><br>       first_name:string -><br>       last_name:string option -><br>       ?disable_notification:bool -><br>       reply_to:int option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Send a contact to a specified chat<br>
</div>

<pre><span id="VALget_user_profile_photos"><span class="keyword">val</span> get_user_profile_photos</span> : <code class="type">user_id:int -><br>       offset:int option -><br>       limit:int option -><br>       <a href="TelegramApi.UserProfilePhotos.html#TYPEuser_profile_photos">TelegramApi.UserProfilePhotos.user_profile_photos</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a><br>       Lwt.t</code></pre><div class="info ">
Get a given user's profile pictures<br>
</div>

<pre><span id="VALget_file"><span class="keyword">val</span> get_file</span> : <code class="type">file_id:string -> <a href="TelegramApi.File.html#TYPEfile">TelegramApi.File.file</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the information for a file that's been uploaded to Telegram's servers by the <code class="code">file_id</code><br>
</div>

<pre><span id="VALget_file'"><span class="keyword">val</span> get_file'</span> : <code class="type">file_id:string -> string option Lwt.t</code></pre><div class="info ">
Download a file that's been uploaded to Telegram's servers by the <code class="code">file_id</code><br>
</div>

<pre><span id="VALdownload_file"><span class="keyword">val</span> download_file</span> : <code class="type">file:<a href="TelegramApi.File.html#TYPEfile">TelegramApi.File.file</a> -> string option Lwt.t</code></pre><div class="info ">
Download a file that's been uploaded to Telegram's servers by the <code class="code">file</code><br>
</div>

<pre><span id="VALkick_chat_member"><span class="keyword">val</span> kick_chat_member</span> : <code class="type">chat_id:int -> user_id:int -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Kick/ban a given user from the given chat<br>
</div>

<pre><span id="VALleave_chat"><span class="keyword">val</span> leave_chat</span> : <code class="type">chat_id:int -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Leave a chat manually to stop receiving messages from it<br>
</div>

<pre><span id="VALunban_chat_member"><span class="keyword">val</span> unban_chat_member</span> : <code class="type">chat_id:int -> user_id:int -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Unban a given user from the given chat<br>
</div>

<pre><span id="VALget_chat"><span class="keyword">val</span> get_chat</span> : <code class="type">chat_id:int -> <a href="TelegramApi.Chat.html#TYPEchat">TelegramApi.Chat.chat</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the info for a given chat<br>
</div>

<pre><span id="VALget_chat_administrators"><span class="keyword">val</span> get_chat_administrators</span> : <code class="type">chat_id:int -><br>       <a href="TelegramApi.ChatMember.html#TYPEchat_member">TelegramApi.ChatMember.chat_member</a> list <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the list of admins for a given chat<br>
</div>

<pre><span id="VALget_chat_members_count"><span class="keyword">val</span> get_chat_members_count</span> : <code class="type">chat_id:int -> int <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the number of members in a given chat<br>
</div>

<pre><span id="VALget_chat_member"><span class="keyword">val</span> get_chat_member</span> : <code class="type">chat_id:int -><br>       user_id:int -><br>       <a href="TelegramApi.ChatMember.html#TYPEchat_member">TelegramApi.ChatMember.chat_member</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get information about a certain member in the given chat<br>
</div>

<pre><span id="VALanswer_callback_query"><span class="keyword">val</span> answer_callback_query</span> : <code class="type">callback_query_id:string -><br>       ?text:string option -><br>       ?show_alert:bool -> unit -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Answer a callback query sent from an inline keyboard<br>
</div>

<pre><span id="VALanswer_inline_query"><span class="keyword">val</span> answer_inline_query</span> : <code class="type">inline_query_id:string -><br>       results:<a href="TelegramApi.InlineQuery.Out.html#TYPEinline_query_result">TelegramApi.InlineQuery.Out.inline_query_result</a> list -><br>       ?cache_time:int option -><br>       ?is_personal:bool option -><br>       ?next_offset:string option -> unit -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Answers between 1 to 50 inline queries<br>
</div>

<pre><span id="VALedit_message_text"><span class="keyword">val</span> edit_message_text</span> : <code class="type">?chat_id:string option -><br>       ?message_id:int option -><br>       ?inline_message_id:string option -><br>       text:string -><br>       parse_mode:<a href="TelegramApi.ParseMode.html#TYPEparse_mode">TelegramApi.ParseMode.parse_mode</a> option -><br>       disable_web_page_preview:bool -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Edit an existing message, selected by either the chat id, the message id, or the inline message id<br>
</div>

<pre><span id="VALedit_message_caption"><span class="keyword">val</span> edit_message_caption</span> : <code class="type">?chat_id:string option -><br>       ?message_id:int option -><br>       ?inline_message_id:string option -><br>       caption:string -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Edit the caption of an existing message, selected by either the chat id, the message id, or the inline message id<br>
</div>

<pre><span id="VALedit_message_reply_markup"><span class="keyword">val</span> edit_message_reply_markup</span> : <code class="type">?chat_id:string option -><br>       ?message_id:int option -><br>       ?inline_message_id:string option -><br>       reply_markup:<a href="TelegramApi.ReplyMarkup.html#TYPEreply_markup">TelegramApi.ReplyMarkup.reply_markup</a> option -><br>       unit -> unit <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Edit the reply markup of an existing message, selected by either the chat id, the message id, or the inline message id. Use <code class="code">None</code> to remove the reply markup<br>
</div>

<pre><span id="VALget_updates"><span class="keyword">val</span> get_updates</span> : <code class="type"><a href="TelegramApi.Update.html#TYPEupdate">TelegramApi.Update.update</a> list <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get a list of all available updates that the bot has received<br>
</div>

<pre><span id="VALpeek_update"><span class="keyword">val</span> peek_update</span> : <code class="type"><a href="TelegramApi.Update.html#TYPEupdate">TelegramApi.Update.update</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the first available update from the update queue<br>
</div>

<pre><span id="VALpop_update"><span class="keyword">val</span> pop_update</span> : <code class="type">?run_cmds:bool -><br>       unit -> <a href="TelegramApi.Update.html#TYPEupdate">TelegramApi.Update.update</a> <a href="TelegramApi.Result.html#TYPEresult">TelegramApi.Result.result</a> Lwt.t</code></pre><div class="info ">
Get the first available update from the update queue and mark it as read (deletes the update)<br>
</div>

<pre><span id="VALrun"><span class="keyword">val</span> run</span> : <code class="type">?log:bool -> unit -> unit</code></pre><div class="info ">
Run the bot with a default main loop, optionally logging the output to stdout<br>
</div>
</body></html>